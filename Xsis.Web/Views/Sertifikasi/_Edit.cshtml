<style>
    .form-custom {
        border: 2px solid dodgerblue;
    }

    .name-clr {
        color: #000080;
        font-size: 10px;
    }
</style>

<form action="" class="margin-set" method="post" id="idFrmEditSertifikasi">
    <div class="row">
        <div class="col-lg-6">
            <label for="idSertifikasiEdit" class="name-clr">Nama Sertifikasi*</label><br />
            <input type="text" name="certificate_name" class="form-control form-custom" id="idSertifikasiEdit" placeholder="">
            <input type="hidden" name="id" id="getId" /> @*untuk mengambil id dari data yang akan diedit*@
        </div>

        <div class="col-lg-6">
            <label for="idPenerbitEdit" class="name-clr">Penerbit*</label><br />
            <input type="text" name="publisher" class="form-control form-custom" id="idPenerbitEdit" placeholder="">
        </div>
    </div>

    <div class="row">
        <div class="col-lg-3">
            <label for="idBlnMulaiEdit" class="name-clr">Berlaku Mulai</label><br />
            <select type="text" name="valid_start_month" class="form-control form-custom" id="idBlnMulaiEdit" placeholder="-Pilih-">
                <option>-Pilih Bulan-</option>
                <option value="1">Jan</option>
                <option value="2">Feb</option>
                <option value="3">Mar</option>
                <option value="4">Apr</option>
                <option value="5">Mei</option>
                <option value="6">Jun</option>
                <option value="7">Jul</option>
                <option value="8">Ags</option>
                <option value="9">Sep</option>
                <option value="10">Okt</option>
                <option value="11">Nov</option>
                <option value="12">Des</option>
            </select>
        </div>

        <div class="col-lg-3">
            <label for="idThnMulaiEdit" class="name-clr"> &nbsp </label><br />
            <select type="text" name="valid_start_year" class="form-control form-custom" id="idThnMulaiEdit" placeholder="-Pilih-">
                <option>-Pilih Tahun-</option>
            </select>
        </div>

        <div class="col-lg-3">
            <label for="idBlnSelesaiEdit" class="name-clr">Berlaku Sampai</label><br />
            <select type="text" name="until_month" class="form-control form-custom" id="idBlnSelesaiEdit" placeholder="-Pilih-">
                <option>-Pilih Bulan-</option>
                <option value="1">Jan</option>
                <option value="2">Feb</option>
                <option value="3">Mar</option>
                <option value="4">Apr</option>
                <option value="5">Mei</option>
                <option value="6">Jun</option>
                <option value="7">Jul</option>
                <option value="8">Ags</option>
                <option value="9">Sep</option>
                <option value="10">Okt</option>
                <option value="11">Nov</option>
                <option value="12">Des</option>
            </select>
        </div>
        <div class="col-lg-3">
            <label for="idThnSelesaiEdit" class="name-clr"> &nbsp </label><br />
            <select type="text" name="until_year" class="form-control form-custom" id="idThnSelesaiEdit" placeholder="-Pilih-">
                <option>-Pilih-</option>
            </select>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <label for="idCttnEdit" class="name-clr">Catatan</label><br />
            <input class="form-control form-custom col-md-12" id="idCttnEdit" name="notes" style="height:100px;"><br />
        </div>
    </div>

    <div class="row">
        <div class="col-lg-8"></div>
        <div class="col-lg-4 btn-group">
            <button type="button" class="btn btn-primary btn-lg" style="background-color: orangered;" id="idBtnBatalEdit">&nbsp Batal &nbsp</button>
            <button type="button" class="btn btn-primary btn-lg" id="idBtnSimpanEdit">Simpan</button>
        </div>
    </div>

</form>

<script>
    $(document).ready(function () {
        debugger;
        var d = new Date();
        var vOption = "";
        for (var i = d.getFullYear() ; i >= 1970; i--) {
            vOption = vOption +
            '<option>' + i + '</option>'
        }
        $('#idThnSelesaiEdit').append(vOption);
        $('#idThnMulaiEdit').append(vOption);

        debugger;
        $.ajax({
            url: '/Sertifikasi/AmbilData',
            data: { ID: $('#getId').val() },
            method: 'Get',
            success: function (mdl) {
                debugger;
                $('#idSertifikasiEdit').val(mdl.certificate_name);
                $('#idPenerbitEdit').val(mdl.publisher);
                $('#idBlnMulaiEdit').val(mdl.valid_start_month).selected;
                $('#idThnMulaiEdit').val(mdl.valid_start_year).selected;
                $('#idBlnSelesaiEdit').val(mdl.until_month).selected;
                $('#idThnSelesaiEdit').val(mdl.until_year).selected;
                $('#idThnLulusEdit').val(mdl.graduation_year).selected;
                $('#idCttnEdit').val(mdl.notes);
                $('#idCreatedOnEdit').val(mdl.created_on);
                debugger;

            },
            error: function (mdl) {
                debugger;
            }
        });

        $('#idBtnBatalEdit').click(function () {
            $('#idMdlEditSertifikasi').close;
            location.reload();
        });

        $('#idBtnSimpanEdit').click(function () {
            debugger;
            var vDataEdit = $('#idFrmEditSertifikasi').serialize();
            $.ajax({
                url: '/Sertifikasi/EditSimpan',
                data: vDataEdit,
                method: 'Post',
                success: function (mdl) {
                    if (mdl.EditSimpan == "Berhasil") {
                        debugger;
                        alert("Data berhasil diEdit");
                        $('#idMdlEditSertifikat').close;
                        location.reload();
                        $('#myModal').modal('show');

                    }
                    else {
                        debugger;
                        alert("Data gagal diEdit");
                        $('#myModal').modal('show');
                    }
                }
            });
        });
    });
</script>